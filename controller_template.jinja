from sevdesk.base.basecontroller import BaseController
{% if needs_optional %}
from typing import Optional
{% endif %}
{% for imp in imports %}
from sevdesk.models.{{ imp.lower() }} import {{ imp }}
{% endfor %}

class {{ controller_name}}Controller(BaseController):

    {% for fn in functions %}
    @BaseController.{{ fn.method.lower() }}("{{ fn.path }}")
    def {{ fn.name }}(self{% if fn.params %}, {% endif %}{% for p in fn.params %}{{ p.name }}: {{ p.type }}{% if not p.required %} = None{% endif %}{% if not loop.last %}, {% endif %}{% endfor %}{% if fn.body_model %}{% if fn.params %}, {% endif %}body: {{ fn.body_model }}{% endif %}){% if fn.return_type %} -> {{ fn.return_type }}{% endif %}:
        """{{ fn.summary }}"""
        return (yield)

    {% endfor %}
